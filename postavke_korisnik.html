<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Postavke korisnika</title>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

    <!-- Optional theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

    <!-- JQuery-->
    <script src="https://code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>

    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
    <!--custom css-->
    <link rel="stylesheet" type="text/css" href="css/JT.css">

    <!-- Vue.js -->
    <script src="https://unpkg.com/vue/dist/vue.js"></script>
</head>
<body>
<div id="postavke">
<div id="navigacija"></div>
<div class="container">
<h1>{{firstName}} {{lastName}} <a href="#" class="btn" style="background-color: #8f0d80; color: white;" @click="logout">Odjava</a></h1>

<h2>Osobne informacije:</h2>
<h3>Izmijeni osobne informacije ovdje</h3>
        <div>
            <div class="input-group input-group-2">

                <div class="input-group">
                <label class="input-group-addon" style="width: 13ex"><b>Ime:</b> </label>
                <input type="text" class="form-control" :value="firstName" aria-describedby="sizing-addon1">
                </div>

                <div class="input-group">
                    <label class="input-group-addon" style="width: 13ex"><b>Prezime:</b> </label>
                <input type="text" class="form-control" :value="lastName" aria-describedby="sizing-addon1">
                </div>

                <div class="input-group">
                    <label class="input-group-addon" style="width: 13ex"><b>E-mail:</b> </label>
                <input type="text" class="form-control" :value="email" aria-describedby="sizing-addon1">
                </div>

                <!--<div class="input-group">-->
                    <!--<label class="input-group-addon" style="width: 13ex"><b>Šifra:</b> </label>-->
                <!--<input type="password" class="form-control" placeholder="Password" aria-describedby="sizing-addon1">-->
                    <!--</div>-->
            </div>
            <br>
            <h2>Obavijesti:</h2>
            <div>
                Obavjesti me kad sam &nbsp;&nbsp;
                <input type="number" value="5"
                       style="width: 5em; background: linear-gradient(to left,rgba(214, 12, 210, 0.33) ,rgba(33, 121, 214, 0.33));
                            border-radius: 15px;

                            text-align: center;

                "/>
                &nbsp;na redu.

        </div>

            <h3>Obavijesti me putem</h3>

            <div class="btn-group" data-toggle="buttons">
                <label class="btn active">
                    <input type="checkbox" checked autocomplete="off"> Alarm
                </label>
                <label class="btn">
                    <input type="checkbox" autocomplete="off"> Notifikacija
                </label>
                <label class="btn">
                    <input type="checkbox" autocomplete="off"> E-mail
                </label>
            </div>
        <!--<div>-->

<!--<h3>Obavijesti me putem:</h3>-->
            <!--<fieldset style="margin-left: 16ex">-->
                <!--<input type="checkbox"  /> Alarm <br />-->
                <!--<input type="checkbox" /> E-mail <br />-->

            <!--</fieldset>-->
        <!--</div>-->




</div>

<p style="text-align: center;margin-top: 2em;"><button type="submit" class="btn btn-primary" style="text-align: center"> Pošalji
</button></p>
</div>
<div id="footer"></div>

</div>

<script>
    var preloader = '<div class="loader loader-default"></div>';
    $('body').append(preloader);

    //facebook sdk
    $.getScript('//connect.facebook.net/hr_HR/sdk.js', function(){
        FB.init({
            appId      : '562233563985613',
            xfbml      : true,
            version    : 'v2.6'
        });
    });


    var postavke = new Vue({
        el: '#postavke',
        data: {
            firstName : localStorage.firstName,
            lastName : localStorage.lastName,
            email : localStorage.mail
        },
        methods: {
            logout: function () {

                //obriši lokalno spremljene podatke
                localStorage.removeItem("id");
                localStorage.removeItem("firstName");
                localStorage.removeItem("lastName");
                localStorage.removeItem("mail");

                //facebook logout
                FB.getLoginStatus(function(response) {
                    if (response.status === 'connected') {
                        //korisnik je ulogiran preko facebooka, odlogiraj ga
                        FB.logout(function(odgovor) {
                            document.location = "index.html";
                        });
                    }
                });


                //preusmjeri korisnika na početnu stranicu nakon logouta
                //window.location = "index.html";
            }
        }
    });

    /*
    var url = 'https://justin-time.herokuapp.com/user/';
    //var email = $.urlParam('email');//izvući iz adrese GET ili bolje pročitati iz storage?
    var email = "aduda@unipu.hr";
    url += email;
    $(".loader").addClass("is-active");
    $.ajax({
        method: "GET",
        contentType: 'application/json',
        dataType: "json",
        cache: true,
        url: url
    }).done(function( data ) {
        postavke.firstName = data.firstName;
        postavke.lastName = data.lastName;
        postavke.email = data.mail;
    }).fail(function(jqxhr, textStatus, error) {
        console.log( textStatus + " " + error);
    }).always(function () {
        $(".loader").removeClass("is-active");
    });*/

    $('#footer').load('Footer.html');
    $('#navigacija').load('navigacija.html');

</script>

</body>
</html>